<%@ page language="java" contentType="text/html; charset=utf-8"
	pageEncoding="utf-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="sec" uri="/WEB-INF/tags/shiro.tld"%>
<%@taglib prefix="pt6" uri="/WEB-INF/tags/platform6.tld"%>
<%@ page import="avicit.platform6.commons.utils.ViewUtil"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">
<!-- ControllerPath = "discussion_manage/structuralrelationship/StructuralRelationshipController/StructuralRelationshipInfo" -->
<title>tree</title>
<base href="<%=ViewUtil.getRequestPath(request)%>">
<%
	String strid = request.getParameter("id") == null ? "" : request.getParameter("id");
	String classCode = request.getParameter("classCode") == null ? "" : request.getParameter("classCode");
%>
</head>
<jsp:include
	page="/avicit/platform6/component/common/EasyUIJsInclude.jsp"></jsp:include>
<jsp:include
	page="/avicit/discussion_manage/structuralrelationship/ztreeLayuiInclude.jsp"></jsp:include>
<jsp:include
	page="/avicit/platform6/modules/system/commonpopup/commonSelectionHead.jsp"></jsp:include>
<script src="static/js/platform/component/sfn/SelfDefiningQuery.js"
	type="text/javascript"></script>	
<style>

/**mainSection*/

.mainSection{
	width: 100%;
	height: 25px;
	padding-top: 10px;
	padding-left: 10px;
	margin-bottom: 0px;
	font-size: 13px;
	position: relative;
}
.screening {
	display:inline-block;
	width:50%;
	height:25px;
	margin-left:10px;
    margin-top:0px;
    font-size: 12px;
    -webkit-user-select: none;
}

.addLabel {
	position: absolute;
	top: 31px;
	left: 100px;
	display: none;
	width: 150px;
	height: auto;
	box-shadow: 0px 0px 5px #dddddd;
	border: 1px solid #dddddd;
}

.addLabelList {
	position: absolute;
	width: 150px;
	height: auto;
	background-color: #FFFFFF;
	z-index: 99;
	text-align: left;
}

.addLabelList ul {
	margin: 0;
	padding: 0;
	list-style: none;
	width: 100%;
	box-shadow: 0px 0px 5px #dddddd;
	border: 1px solid #dddddd;
}

.addLabelList ul li {
	padding: 5px 10px 5px 10px;
	list-style: none;
	cursor: pointer;
	font-size: 12px;
	border-bottom: 1px solid #f7f7f7;
	-webkit-user-select: none;
}

.addLabelList ul li.active { /*鼠标移动上去背景色  */
	background: #2ea7e0;
}

.addLabelList ul li:hover {
	background: #2ea7e0;
	color: #FFFFFF;
}

.mainSection > .screening > span {
 	margin-left:3px;
    background-color: #ffffff;
    padding: 5px 20px 5px 15px;
    position: relative;
    color: #666666;
    cursor: pointer;
    font-size: 12px;
    border: 1px solid #e9e9e9;
    -webkit-user-select: none;
}
.sx_ {
    width: 10px;
    height: 10px;
    display: block;
    position: absolute;
    top: 5px;
    right: 8px;
    font-size: 10px;
    color: #999999;
}
*::before, *::after {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
.mainSection>.screening>span:hover {
    border: 1px solid #2ea7e0;
}

.mainSection>.screening>.mainSectionBtn :hover {
    border: 1px solid #2ea7e0;
}

.mainSectionBtn {
    background-color: #ffffff;
    outline: none;
    display: inline-block;
    color: #b5b5b5;
    cursor: pointer;
    position: absolute;
    border: 1px solid #e9e9e9;
}
/* .label {
    outline: none;
    display: inline-block;
    font-size:15px;
} */
.addbtn {
	display:inline;
	float:right;
	width: 90px;
	 height: 25px; 
	 margin-top: 3px;
	padding-left: 10px;
	margin-bottom: 0px;
	font-size: 13px;
}
.addSectionBtn{
	border:1px solid #e9e9e9;
}
/* .fblabel{
	 display: inline-block;
	 font-size:15px;
} */
.ad{
	display:inline-block;
	margin-left:0px;
}
.adLabel {
	position: absolute;
	top: 31px;
	right: 210px;
	display: none;
	width: 100px;
	height: auto;
	box-shadow: 0px 0px 5px #dddddd;
	border: 1px solid #dddddd;
}
.adLabelList {
	position: absolute;
	width: 100px;
	height: auto;
	background-color: #FFFFFF;
	z-index: 99;
	text-align: left;
}
.adLabelList ul {
	margin: 0;
	padding: 0;
	list-style: none;
	width: 100%;
	box-shadow: 0px 0px 5px #dddddd;
	border: 1px solid #dddddd;
}

.adLabelList ul li {
	padding: 5px 10px 5px 10px;
	list-style: none;
	cursor: pointer;
	font-size: 12px;
	border-bottom: 1px solid #f7f7f7;
	-webkit-user-select: none;
}
.adLabelList ul li.active { /*鼠标移动上去背景色  */
	background: #2ea7e0;
}
.adLabelList ul li:hover {
	background: #2ea7e0;
	color: #FFFFFF;
}
.shcbtn {
	display:inline;
	float:right;
	width: 60px;
	 height: 25px; 
	 margin-top: 3px;
	padding-left: 10px;
	margin-bottom: 0px;
	font-size: 13px;
}
label{
	 display: inline-block;
	 font-size:15px;
}
.scLabel {
	position: absolute;
	top: 31px;
	right: 160px;
	display: none;
	width: 60px;
	height: auto;
	box-shadow: 0px 0px 5px #dddddd;
	border: 1px solid #dddddd;
}
.shcLabelList {
	position: absolute;
	width: 60px;
	height: auto;
	background-color: #FFFFFF;
	z-index: 99;
	text-align: left;
}
.shcLabelList ul {
	margin: 0;
	padding: 0;
	list-style: none;
	width: 100%;
	box-shadow: 0px 0px 5px #dddddd;
	border: 1px solid #dddddd;
}

.shcLabelList ul li {
	padding: 5px 10px 5px 10px;
	list-style: none;
	cursor: pointer;
	font-size: 12px;
	border-bottom: 1px solid #f7f7f7;
	-webkit-user-select: none;
}
.shcLabelList ul li.active { /*鼠标移动上去背景色  */
	background: #2ea7e0;
}
.shcLabelList ul li:hover {
	background: #2ea7e0;
	color: #FFFFFF;
}
.jygbBtn {
	display:inline;
	float:right;
	width: 120px;
	 height: 25px; 
	 margin-top: 3px;
	padding-left: 10px;
	margin-bottom: 0px;
	font-size: 13px;
}
</style>
<script type="text/javascript">
var proposalManage;
	var oldStrId='<%=strid%>';
	var classCode='<%=classCode%>';
	 var strid ='<%=strid%>';
	var setting = {
		async : {
			autoParam : [ "id" ],
			dataType : "json",
			enable : true,
			type : "get",
			url : "platform/discussion_manage/structuralrelationship/StructuralRelationshipController/searchVciZtreeByStrId/"
					+ strid,
		},
		data : {
			simpleData : {
				enable : true
			}
		},
		callback : {
			onClick : zTreeOnClick,
		}
	};
	function getFont(treeId, node) {
		return node.font ? node.font : {};
	}

	//初始化树
	$(function() {
		document.body.style.visibility = 'visible';
		var arr=[]; 
		var arrName=[]; 
		
		var purl = "platform/discussion_manage/proposalmanage/ProposalManageController/operation/";
		$.fn.zTree.init($("#tree"), setting);
		proposalManage = new ProposalManage('dgProposalManage', purl,
				'searchDialog', 'proposalManage','<%=strid%>');
		setTimeout(selectNodeById, 300);
		findDiscussionDate();
		
			$(document).on('click', '.addLabelList li', function(e) {
			if ($(".mainSection .screening span").length > 2) {
				  $.messager.alert('警告','最多可添加3类状态');  
			    return;
			  }
			  var thisLi = $(this);
			  var bol = true;
			  $(".mainSection .screening span").each(function() {
				  var tem = $(this).html().substring(0,$(this).html().indexOf("<"));
				    if (tem == thisLi.html()) {
			      bol = false;
			      return;
			    }
			  });
			  if (bol) {
			    $(".addLabel").after("<span val=\"" + $(this).attr("val") + "\">" + $(this).html() +"<span class=\"sx_\">X</span>" +"</span> ");
			   // arr.push($(this).attr("val"));
			    //arrName.push($(this).html());
			   // localStorage.labelList = arr.join(",");
			    ///localStorage.labelListName = arrName.join(",");
			    //initLoadData();
			  }
			  $(".addLabel").css("display", "none");
		});
		
		$(document).on('click', '.mainSection .screening span', function(e) {
			  var str = $(this).attr("val");
			  $(this).remove();
			  /*
			  for (var i in arr) {
			    if (arr[i] == str) {
			      arr.remove(i);
			      arrName.remove(i);
			    }
			  }
			  localStorage.labelList = arr.join(",");
			  localStorage.labelListName = arrName.join(",");
			  initLoadData();*/
			});
		var proposalUserIdUserCommonSelector = new CommonSelector("user",
				"userSelectCommonDialog", "proposalUserId",
				"proposalUserIdAlias");
		proposalUserIdUserCommonSelector.init();
		var proposalUserDeptDeptCommonSelector = new CommonSelector("dept",
				"deptSelectCommonDialog", "proposalUserDept",
				"proposalUserDeptAlias");
		proposalUserDeptDeptCommonSelector.init();
		var replierUserIdUserCommonSelector = new CommonSelector("user",
				"userSelectCommonDialog", "replierUserId", "replierUserIdAlias");
		replierUserIdUserCommonSelector.init(); 
		/////
		var array = [];

		var searchObject = {
			name : '装配结构ID',
			field : 'STR_ID',
			type : 1,
			dataType : 'string'
		};
		array.push(searchObject);

		var searchObject = {
			name : '父类建议ID',
			field : 'PARENT_ID',
			type : 1,
			dataType : 'string'
		};
		array.push(searchObject);

		var searchObject = {
			name : '建议编号',
			field : 'PROPOSAL_CODE',
			type : 1,
			dataType : 'string'
		};
		array.push(searchObject);

		var searchObject = {
			name : '建议标题',
			field : 'PROPOSAL_NAME',
			type : 1,
			dataType : 'string'
		};
		array.push(searchObject);

		var searchObject = {
			name : '建议正文',
			field : 'PROPOSAL_MAIN',
			type : 1,
			dataType : 'string'
		};
		array.push(searchObject);

		var searchObject = {
			name : '状态',
			field : 'STATUS',
			type : 1,
			dataType : 'string'
		};
		array.push(searchObject);

		var searchObject = {
			name : '建议发表时间      ',
			field : 'PUBLICATION_TIME',
			type : 1,
			dataType : 'date'
		};
		array.push(searchObject);

		var searchObject = {
			name : '建议提出人',
			field : 'PROPOSAL_USER_ID',
			type : 1,
			dataType : 'user'
		};

		array.push(searchObject);

		var searchObject = {
			name : '建议提出人部门（专业）',
			field : 'PROPOSAL_USER_DEPT',
			type : 1,
			dataType : 'dept'
		};
		array.push(searchObject);

		var searchObject = {
			name : '是否有争议',
			field : 'IS_DISPUTE',
			type : 1,
			dataType : 'string'
		};
		array.push(searchObject);

		var searchObject = {
			name : '320厂是否批准建议（320厂默认否）',
			field : 'IS_APPROVAL',
			type : 1,
			dataType : 'string'
		};
		array.push(searchObject);

		var searchObject = {
			name : '回复人ID',
			field : 'REPLIER_USER_ID',
			type : 1,
			dataType : 'user'
		};

		array.push(searchObject);

		///

		selfDefQury.init(array);
		selfDefQury.setQuery(function(param) {
			proposalManage.searchDataBySfn(param);
		});
		
	});

	//选中节点
	function selectNodeById() {
		var zTree = $.fn.zTree.getZTreeObj("tree");
		var selecrNode = zTree.getNodeByParam("id", strid);
		
		zTree.selectNode(selecrNode);
	};
	//初始化datagrid
	function findDiscussionDate() {
		$("#dgDiscussion")
				.datagrid(
						{
							url : 'platform/discussion_manage/discussionmanage/DiscussionManageController/selectDiscussionData/'
									+ strid
						});
	};

	//获取选择节点数据
	function zTreeOnClick(event, treeId, treeNode) {
		oldStrId = treeNode.id;
		classCode=  treeNode.name;
		$("input[name='strId']").val(oldStrId);
		proposalManage.reLoad();
	};
	function formateDate(value, row, index) {
		return formate(value);
	}
	function formate(value) {
		if (value) {
			return new Date(value).format("yyyy-MM-dd");
		}
		return '';
	};
	$.extend($.fn.datagrid.methods, {

		autoMergeCells : function(jq, fields) {

			return jq.each(function() {

				var target = $(this);

				if (!fields) {

					fields = target.datagrid("getColumnFields");

				}

				var rows = target.datagrid("getRows");

				var i = 0,

				j = 0,

				temp = {};

				for (i; i < rows.length; i++) {

					var row = rows[i];

					j = 0;

					for (j; j < fields.length; j++) {

						var field = fields[j];

						var tf = temp[field];

						if (!tf) {

							tf = temp[field] = {};

							tf[row[field]] = [ i ];

						} else {

							var tfv = tf[row[field]];

							if (tfv) {

								tfv.push(i);

							} else {

								tfv = tf[row[field]] = [ i ];

							}

						}
					}

				}

				$.each(temp, function(field, colunm) {

					$.each(colunm, function() {

						var group = this;

						if (group.length > 1) {

							var before,

							after,

							megerIndex = group[0];

							for ( var i = 0; i < group.length; i++) {

								before = group[i];

								after = group[i + 1];

								if (after && (after - before) == 1) {

									continue;

								}

								var rowspan = before - megerIndex + 1;

								if (rowspan > 1) {

									target.datagrid('mergeCells', {

										index : megerIndex,

										field : field,

										rowspan : rowspan

									});

								}

								if (after && (after - before) != 1) {

									megerIndex = after;

								}

							}

						}

					});

				});

			});

		}

	});
	 /*合并相同单元格  */
	function onLoads() {
		$("#dgProposalManage").datagrid('autoMergeCells', [ "deptName" ]);
	};
	/*设为争议  */
	function zhengyi() {
		var ro = $("#dgProposalManage").datagrid('getSelected');
		ro.jianyi = ro.jianyi + "<span class=\"badge badge-danger\">争议</span>";
		$("#dgProposalManage").datagrid('refreshRow', 1);
		onLoads();
	};
	
	function forum(id){
		var url = 'avicit/discussion_manage/discussionmanage/ForumManage.jsp?id='+id;
		if(typeof(top.addTab) != 'undefined'){
			top.addTab("建议详情", url);
		}else{
			window.open(url);
		}
	};
	function forummanage(value, row, inde) {
		return '<a href="javascript:void(0);" onclick="forum(\''
				+ row.id + '\');">' + value + '</a>';
	};
	
		
		/*点击按钮控制下拉框显示  */
		function choose() {
			var dis = $(".addLabel").css("display");
			if (dis == "none") {
				$(".addLabel").css("display", "block");
				window.setTimeout(function() {
				      $("body").click(function() {
				        $(".addLabel").css("display", "none");
				        $("body").unbind("click");
				      });
				    }, 10);
			} else {
				$(".addLabel").css("display", "none");
			}
		};
		/*点击按钮控制下拉框显示  */
		function chooseAd() {
			var dis = $(".adLabel").css("display");
			if (dis == "none") {
				$(".adLabel").css("display", "block");
				window.setTimeout(function() {
				      $("body").click(function() {
				        $(".adLabel").css("display", "none");
				        $("body").unbind("click");
				      });
				    }, 10);
			} else {
				$(".adLabel").css("display", "none");
			}
		};
		/*点击按钮控制下拉框显示  */
		function chooseShc() {
			var dis = $(".scLabel").css("display");
			if (dis == "none") {
				$(".scLabel").css("display", "block");
				window.setTimeout(function() {
				      $("body").click(function() {
				        $(".scLabel").css("display", "none");
				        $("body").unbind("click");
				      });
				    }, 10);
			} else {
				$(".scLabel").css("display", "none");
			}
		};
		function chooseCloss(){
			alert("关闭建议事件！");
		}
		
</script>

</head>
<body class="easyui-layout" fit="true" style="visibility:hidden;">
	<div data-options="region:'west',split:true,title:'结构'"
		style="width: 250px"> <ul id="tree" class="ztree"></ul>
		</div>
	<div data-options="region:'center',split:true"
		style="padding: 0px; overflow: auto;">
		<div id="tt" class="easyui-tabs"
			style="padding: 0px;" data-options="fit:true">
			<div title="讨论区" data-options="iconCls:'icon-filter',closable:true,closable:false"
				style="overflow: auto; style="padding: 0px;">
				<div id="toolbarStructureManage" class="datagrid-toolbar">
					<div class="mainSection">
						<div class="screening">
<!-- 							<a id="state-btn" class="easyui-linkbutton" -->
<!-- 								data-options="iconCls:'icon-add',iconAlign:'right'" plain="true" -->
<!-- 								href="javascript:void(0);" onclick="choose();">状态筛选</a> -->

							<label class="label" for="mainBtn">专业筛选:</label>
							<button class="mainSectionBtn" id="mainBtn" onclick="choose()" ><img ismap src="static/images/platform/common/icons/text_list_bullets.png"></button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  
							<div class="addLabel">
								<div class="addLabelList" style="width: 150px;">
									<ul>
										<li val="0">重量</li>

										<li val="1">材料</li>

										<li val="2">装配</li>
										
										<li val="3">冶金</li>
										
										<li val="4">标准化</li>
									</ul>
								</div>
							</div>
						</div>
						<div class="jygbBtn">
							<label class="shclabel" for="gb">关闭建议:</label>
							<button class="mainSectionBtn" id="gb" onclick="chooseCloss()" ><img class="ad" ismap src="avicit/discussion_manage/discussionmanage/js/images/cross.png"></button>
						</div>
						<div class="shcbtn">
							<label class="shclabel" for="shc">审查:</label>
							<button class="mainSectionBtn" id="shc" onclick="chooseShc()" ><img class="ad" ismap src="avicit/discussion_manage/discussionmanage/js/images/scqr.png"></button>
							<div class="scLabel">
								<div class="shcLabelList" style="width: 100px;">
									<ul>
										<li onclick="alert('审查确认！')">审查确认</li>
										<li onclick="alert('重新审查！')" >重新审查</li>
									</ul>
								</div>
							</div>
						</div>
						<div class="addbtn">
							<label class="fblabel" for="fb">发表建议:</label>
							<button class="mainSectionBtn" id="fb" onclick="chooseAd()" ><img class="ad" ismap src="avicit/discussion_manage/discussionmanage/js/images/add-b.png"></button>
							<div class="adLabel">
								<div class="adLabelList" style="width: 100px;">
									<ul>
										<li onclick="proposalManage.insert(oldStrId,classCode);">发表建议</li>
										<li onclick="proposalManage.ksinsert(oldStrId);" >快速发表</li>
									</ul>
								</div>
							</div>
						</div>
						
						
					</div>
				</div>
			<table id="dgProposalManage"
			data-options="
				fit: true,
				border: false,
				rownumbers: true,
				animate: true,
				collapsible: false,
				fitColumns: true,
				autoRowHeight: false,
				toolbar:'#toolbarProposalManage',
				idField :'id',
				singleSelect: true,
				checkOnSelect: true,
				selectOnCheck: false,
				onLoadSuccess: onLoads,
				pagination:true,
				pageSize:dataOptions.pageSize,
				pageList:dataOptions.pageList,
				striped:true">
			<thead>
				<tr>
					<th data-options="field:'id', halign:'center',checkbox:true"
						width="220">ID</th>
					<th data-options="field:'deptName',align:'center'"
						width="220">建议提出人部门（专业）</th>	
					<!-- <th data-options="field:'proposalUserDeptAlias',align:'center'"
						width="220">建议提出人部门（专业）</th>	 -->
						
					<th data-options="field:'strId', halign:'center',hidden:true" width="220">装配结构ID</th>

					<th data-options="field:'parentId', halign:'center',hidden:true" width="220">父类建议ID</th>

					<th data-options="field:'proposalCode', halign:'center',hidden:true"
						width="220">建议编号</th>

					<th data-options="field:'proposalName', halign:'center',formatter:forummanage"
						width="220">建议标题</th>
					<th data-options="field:'proposalUserIdAlias',align:'center'"
						width="220">建议提出人</th>
					
					<th data-options="field:'proposalMain', halign:'center',hidden:true"
						width="220">建议正文</th>

					<th
						data-options="field:'publicationTime', halign:'center',formatter:formateDate"
						width="220">建议发表时间</th>
					<th data-options="field:'status', halign:'center'" width="220">状态</th>
					

					<th data-options="field:'isDispute', halign:'center'" width="220">是否有争议</th>

					<th data-options="field:'isApproval', halign:'center',hidden:true" width="220">320厂是否批准建议（320厂默认否）</th>

					<th data-options="field:'replierUserIdAlias',align:'center',hidden:true"
						width="220">回复人ID</th>
				</tr>
			</thead>
		</table>
			</div>
			<div title="模型质量检查" data-options="iconCls:'icon-search',closable:true,closable:false"
				style="overflow: auto; padding: 20px;">
				<span class="badge badge-danger">争议</span>
			</div>
			<div title="模型干涉检查"
				data-options="iconCls:'icon-reload',closable:true,closable:false"
				style="overflow: auto; padding: 20px;">
				<div class="sss">
				</div>
				</div>
		</div>

	</div>
	
	<!--*****************************搜索*********************************  -->
	<div id="searchDialog"
		data-options="iconCls:'icon-search',resizable:true,modal:false,buttons:'#searchBtns'"
		style="width: 904px; height: 340px; display: none;">
		<form id="proposalManage">
			<table class="form_commonTable">
				<tr>
					<th width="10%">装配结构ID:</th>
					<td width="40%"><input class="easyui-validatebox"
						style="width: 151px;" type="text" name="strId" /></td>
					<th width="10%">父类建议ID:</th>
					<td width="40%"><input class="easyui-validatebox"
						style="width: 151px;" type="text" name="parentId" /></td>
				</tr>
				<tr>
					<th width="10%">建议编号:</th>
					<td width="40%"><input class="easyui-validatebox"
						style="width: 151px;" type="text" name="proposalCode" /></td>
					<th width="10%">建议标题:</th>
					<td width="40%"><input class="easyui-validatebox"
						style="width: 151px;" type="text" name="proposalName" /></td>
				</tr>
				<tr>
					<th width="10%">建议正文:</th>
					<td width="40%"><input class="easyui-validatebox"
						style="width: 151px;" type="text" name="proposalMain" /></td>
					<th width="10%">状态:</th>
					<td width="40%"><input class="easyui-validatebox"
						style="width: 151px;" type="text" name="status" /></td>
				</tr>
				<tr>
				<tr>
					<th width="10%">建议发表时间 从:</th>
					<td width="40%"><input name="publicationTimeBegin"
						id="publicationTimeBegin" class="easyui-datebox" editable="false" />
					<th width="10%">建议发表时间 (至):</th>
					<td width="40%"><input name="publicationTimeEnd"
						id="publicationTimeEnd" class="easyui-datebox" editable="false" />
					</td>
				</tr>
				<th width="10%">建议提出人:</th>
				<td width="40%"><input title="建议提出人" class="inputbox"
					type="hidden" name="proposalUserId" id="proposalUserId" />
					<div class="">
						<input class="easyui-validatebox" name="proposalUserIdAlias"
							id="proposalUserIdAlias" readOnly="readOnly"></input>
					</div></td>
				<th width="10%">建议提出人部门（专业）:</th>
				<td width="40%"><input title="建议提出人部门（专业）" class="inputbox"
					type="hidden" name="proposalUserDept" id="proposalUserDept" />
					<div class="">
						<input class="easyui-validatebox" name="proposalUserDeptAlias"
							id="proposalUserDeptAlias" readOnly="readOnly"></input>
					</div></td>
				</tr>
				<tr>
					<th width="10%">是否有争议:</th>
					<td width="40%"><input class="easyui-validatebox"
						style="width: 151px;" type="text" name="isDispute" /></td>
					<th width="10%">320厂是否批准建议（320厂默认否）:</th>
					<td width="40%"><input class="easyui-validatebox"
						style="width: 151px;" type="text" name="isApproval" /></td>
				</tr>
				<tr>
					<th width="10%">回复人ID:</th>
					<td width="40%"><input title="回复人ID" class="inputbox"
						type="hidden" name="replierUserId" id="replierUserId" />
						<div class="">
							<input class="easyui-validatebox" name="replierUserIdAlias"
								id="replierUserIdAlias" readOnly="readOnly"></input>
						</div></td>
				</tr>
			</table>
		</form>
		<div id="searchBtns" class="datagrid-toolbar foot-formopera">
			<table class="tableForm" border="0" cellspacing="1" width='100%'>
				<tr>
					<td align="right"><a class="easyui-linkbutton primary-btn"
						iconCls="" plain="false" onclick="proposalManage.searchData();"
						href="javascript:void(0);">查询</a> <a class="easyui-linkbutton"
						iconCls="" plain="false" onclick="proposalManage.clearData();"
						href="javascript:void(0);">清空</a> <a class="easyui-linkbutton"
						iconCls="" plain="false"
						onclick="proposalManage.hideSearchForm();"
						href="javascript:void(0);">返回</a></td>
				</tr>
			</table>
		</div>
	</div>
	
	<script src=" avicit/discussion_manage/proposalmanage/js/ProposalManage.js"
		type="text/javascript"></script>
	
</body>
</html>