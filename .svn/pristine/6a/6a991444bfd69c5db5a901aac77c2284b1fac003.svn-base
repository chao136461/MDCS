<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="avicit.discussion_manage.checkassigntask.dao.CheckAssignTaskDao">

<resultMap id="CheckAssignTaskDTOMap" type="avicit.discussion_manage.checkassigntask.dto.CheckAssignTaskDTO">
		<result property="id" column="ID" jdbcType="VARCHAR" />
		<result property="taskCode" column="TASK_CODE" jdbcType="VARCHAR" />
		<result property="taskTitle" column="TASK_TITLE" jdbcType="VARCHAR" />
		<result property="taskType" column="TASK_TYPE" jdbcType="VARCHAR" />
		<result property="structureId" column="STRUCTURE_ID" jdbcType="VARCHAR" />
		<result property="taskTable" column="TASK_TABLE" jdbcType="VARCHAR" />
		<result property="formId" column="FORM_ID" jdbcType="VARCHAR" />
		<result property="sponsorUserId" column="SPONSOR_USER_ID" jdbcType="VARCHAR" />
		<result property="sponsorUserName" column="SPONSOR_USER_NAME" jdbcType="VARCHAR" />
		<result property="taskUserId" column="TASK_USER_ID" jdbcType="VARCHAR" />
		<result property="taskUserName" column="TASK_USER_NAME" jdbcType="VARCHAR" />
		<result property="taskUrl" column="TASK_URL" jdbcType="VARCHAR" />
		<result property="taskIsok" column="TASK_ISOK" jdbcType="VARCHAR" />
		<result property="validFlag" column="VALID_FLAG" jdbcType="VARCHAR" />
		<result property="createdBy" column="CREATED_BY" jdbcType="VARCHAR" />
		<result property="creationDate" column="CREATION_DATE" jdbcType="TIMESTAMP" />
		<result property="lastUpdatedBy" column="LAST_UPDATED_BY" jdbcType="VARCHAR" />
		<result property="lastUpdateDate" column="LAST_UPDATE_DATE" jdbcType="TIMESTAMP" />
		<result property="lastUpdateIp" column="LAST_UPDATE_IP" jdbcType="VARCHAR" />
		<result property="version" column="VERSION" jdbcType="DECIMAL" />
		<result property="attribute01" column="ATTRIBUTE_01" jdbcType="VARCHAR" />
		<result property="attribute02" column="ATTRIBUTE_02" jdbcType="VARCHAR" />
		<result property="attribute03" column="ATTRIBUTE_03" jdbcType="VARCHAR" />
		<result property="attribute04" column="ATTRIBUTE_04" jdbcType="VARCHAR" />
		<result property="attribute05" column="ATTRIBUTE_05" jdbcType="VARCHAR" />
		<result property="attribute06" column="ATTRIBUTE_06" jdbcType="VARCHAR" />
		<result property="attribute07" column="ATTRIBUTE_07" jdbcType="TIMESTAMP" />
		<result property="attribute08" column="ATTRIBUTE_08" jdbcType="TIMESTAMP" />
		<result property="attribute09" column="ATTRIBUTE_09" jdbcType="DECIMAL" />
		<result property="attribute10" column="ATTRIBUTE_10" jdbcType="DECIMAL" />
</resultMap>


<!-- 根据登陆人返回待办信息CHECK_ASSIGN_TASK -->
<select id="getCheckAssignTaskDTOListByLoginUserId" parameterType="java.lang.String" resultMap="CheckAssignTaskDTOMap">
	select
		t1.id                             ,
		t1.task_code                      ,
		t1.task_title                     ,
		t1.task_type                      ,
		t1.structure_id                   ,
		t1.task_table                     ,
		t1.form_id                        ,
		t1.sponsor_user_id                ,
		t1.sponsor_user_name              ,
		t1.task_user_id                   ,
		t1.task_user_name                 ,
		t1.task_url                       ,
		t1.task_isok                      ,
		t1.valid_flag               
	from check_assign_task 	t1
		where t1.task_user_id = #{userId}
</select>

</mapper>