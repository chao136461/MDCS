package avicit.discussion_manage.structureDataSynchronize.ws.impl;


import javax.jws.WebService;

import org.springframework.beans.factory.annotation.Autowired;

import avicit.discussion_manage.structureDataSynchronize.service.StructureDataSynchronizeService;
import avicit.discussion_manage.structureDataSynchronize.util.EcodeChangeUtil;
import avicit.discussion_manage.structureDataSynchronize.ws.StructureDataSynchronizeWsService;

@WebService(endpointInterface="avicit.discussion_manage.structureDataSynchronize.ws.StructureDataSynchronizeWsService")
public class StructureDataSynchronizeWsServiceImpl implements StructureDataSynchronizeWsService{

	@Autowired
	private StructureDataSynchronizeService service;
	@Override
	public String getStructureData(String data) throws Exception{
		if(null != data && !"".equals(data)){
			String encode = EcodeChangeUtil.getEncoding(data);
			String xmlData = new String(data.getBytes(encode),"gbk");
			System.out.println(xmlData);
			if(xmlData!=null){
				service.updateStructureDataSynchronize(xmlData);
			}
			return "SUCCESS";
		}else{
			
			return "NO DATA";
		}
	}
}
