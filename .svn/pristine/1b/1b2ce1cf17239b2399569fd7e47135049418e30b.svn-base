<%@ page language="java" contentType="text/html; charset=utf-8"
    pageEncoding="utf-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="sec" uri="/WEB-INF/tags/shiro.tld"%>
<%@ page import="avicit.platform6.commons.utils.ViewUtil"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- ControllerPath = "discussion_manage/inforconfiguration/InforConfigurationController/InforConfigurationInfo" -->
<title></title>
<base href="<%=ViewUtil.getRequestPath(request)%>">
<jsp:include page="/avicit/platform6/component/common/EasyUIJsInclude.jsp"></jsp:include>
<script src="static/js/platform/component/common/exteasyui.js" type="text/javascript"></script>
</head>
<body class="easyui-layout" fit="true">
	<div data-options="region:'center',split:true,border:false" style="overflow: auto;">
<div id="riskTabs" class="easyui-tabs" data-options="fit:true,plain:true,tabPosition:'top',border:false,toolPosition:'right'">
		<div title="基本配置" style="margin: 0px; padding: 0px; border: 0px">
				<div data-options="region:'center',split:true,border:false" style="overflow: auto; padding-bottom: 30px;">
					<form id='form'>
						<input type="hidden" name="id" id="id" value="${id}"/>
						<table class="form_commonTable" style="padding-top: 100px;font-size: 20px;" border="0px"  >
							<tr>
								<th width="5%"><span class="remind">*</span>型&nbsp;&nbsp;号:</th>
								<td width="2%">
								<select title="型号" class="easyui-combobox"  name="typeId" id="typeId">
											  	
						  			<option value="1" selected="selected">1</option>
						  			<option value="2">2</option>
						  			<option value="3">3</option>
											  	
								 </select>
								</td>
								<tr><td>&nbsp;</td></tr>
							</tr>
							
							<tr>
									<th width="5%">审查确认:</th>
									<td width="2%">
											<input title="审查确认"  type="checkbox" name="isConfirm" id="isConfirm"  />
									</td>
									<th width="5%">模型检查:</th>
									<td width="5%">	
								  			<input title="模型检查" type="checkbox" name="modelCheck" id="modelCheck"    />
									</td>

									<th width="5%">干涉检查:</th>
									<td width="10%">
											<input title="干涉检查" type="checkbox" name="interfereCheck" id="interfereCheck"  />
											
									</td>
							</tr>
							<tr><td>&nbsp;</td></tr>
							<tr>
									<th width="13%">建议审批:</th>
									<td width="5%">
											<input title="审批状态" type="checkbox" name="approveState" id="approveState"  />
											
									</td>
							</tr>
							<tr><td>&nbsp;</td></tr>
							<tr>
									<th width="13%">降级流程:</th>
									<td width="5%">
											<input title="指标定义" type="checkbox" name="isDegrade" id="isDegrade"  />
											
									</td>
									</tr>
							</tr>

						</table>
					</form>
					<div id="toolbar" class="datagrid-toolbar datagrid-toolbar-extend foot-formopera">
						<table class="tableForm" border="0" cellspacing="1" width='100%'>
							<tr>
								<td width="50%" align="right"><a title="保存" id="saveButton"
									class="easyui-linkbutton primary-btn" onclick="saveForm();"
									href="javascript:void(0);">保存</a> <a title="返回" id="returnButton"
									class="easyui-linkbutton" onclick="closeForm();"
									href="javascript:void(0);">返回</a></td>
							</tr>
						</table>
					</div>
				</div>
		</div>
		<div title="专业配置" style="padding: 0px;" id="RiskMuB">
			<iframe id="tabRiskMuB" src='' frameBorder=0 style="height: 99%; width: 100%"></iframe>
		</div>
</div>
	<script src=" avicit/discussion_manage/inforconfiguration/js/InforConfiguration.js" type="text/javascript"></script>
	<script type="text/javascript">
		var inforConfiguration;
		var typeId = $('#typeId').val();
		$(function(){
			
 			inforConfiguration= new InforConfiguration('dgInforConfiguration','${url}','searchDialog','inforConfiguration');
 			$('#typeId').combobox({
 				onSelect: function(param){
 					$.ajax({
 						url:"platform/discussion_manage/inforconfiguration/InforConfigurationController/operation/findDataByType",
 				        type: 'post',
 				        dataType: 'json',
 				        data: {
 				        	typeId: param.value,
 				        },
 				        async: false,
 				        success: function(r) {
 				        	 if (r.flag == "success"){
 				        			$.messager.show({
 				   					 title : '提示',
 				   					 msg : '保存成功！'
 				   				 });
 				   			 }else{
 				   				 $.messager.show({
 				   					 title : '提示',
 				   					 msg : '保存失败！'
 				   				});
 				   			 } 
 				        }
 					});      
 				}
 			});
 			
 			//根据type查询数据
 			
 			
 			$.ajax({
					url:"platform/discussion_manage/inforconfiguration/InforConfigurationController/operation/findDataByType",
			        type: 'post',
			        dataType: 'json',
			        data: {
			        	typeId: typeId,
			        },
			        async: false,
			        success: function(r) {
			        	
			        }
				});      

 			
		});
		function formateDate(value,row,index){
			return inforConfiguration.formate(value);
		}
		//inforConfiguration.detail(\''+row.id+'\')
		function formateHref(value,row,inde){
			return '<a href="javascript:void(0);" onclick="inforConfiguration.detail(\''+row.id+'\');">'+value+'</a>';
		}
		//保存数据
		function saveForm(){
			inforConfiguration.save(serializeObject($('#form')), "#insert");
			
		}

		

		
	</script>
</body>
</html>